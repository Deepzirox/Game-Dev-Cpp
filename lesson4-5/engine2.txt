#include <cstdio>
#include <SDL2/SDL.h>

/**
 *  PUTTING IMG IN A WINDOW
 */

// DIMENSIONS OF SCREEN

const int SCREEN_WIDTH = 640;
const int SCREEN_HEIGHT = 480;


/* int main(int argc, char *args[]) */
{

    // the window we will render
    SDL_Window *window = NULL;

    // The surface contained by the windo
    SDL_Surface *screenSurface = NULL;

    // initialize SDL
    if (SDL_Init(SDL_INIT_VIDEO) < 0)
    {
        printf("Fail: %s\n", SDL_GetError());
        exit(-1);
    }


    // defining dimensions and posision of window

    window = SDL_CreateWindow("Win", 20, 20, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN);

    if (!window)
    {
         printf("Fail: %s\n", SDL_GetError());
         exit(-1);
    }

    // getting screen surface of the window

    screenSurface = SDL_GetWindowSurface(window);

    // Fill surface
    /**
     *color should be a pixel of the format used by the surface, 
     and can be generated by SDL_MapRGB() or SDL_MapRGBA(). 
     If the color value contains an alpha component then the destination 
     is simply filled with that alpha information, no blending takes place.
     */
    SDL_FillRect(screenSurface, NULL, SDL_MapRGB( screenSurface->format, 34, 23, 100 ));

    // Update the surface SDL_UPDATE_SURFACE
    /**
     * An important thing to know about rendering is that just because you've drawn something to the 
     * screen surface doesn't mean you'll see it. After you've done all
     * your drawing you need to update the window so it shows everything you drew. 
     * A call to SDL_UpdateWindowSurface will do this.
     */
    SDL_UpdateWindowSurface(window);

    // wait two seconds SDL_DELAY
    /**
     *If all we do is create the window, fill it, and update it, all we're going to see 
     is a window flash for a second and then close. 
     To keep it from disappearing, we'll call SDL_Delay. 
     SDL_Delay will wait for a given amount of milliseconds. A millisecond is 1/1000 of a second. 
     This means the code above will make the window wait for 2000 1/1000 of a second or 2 seconds.
     */
    SDL_Delay(2000);

    //Destroy window
    SDL_DestroyWindow( window );

    //Quit SDL subsystems
    SDL_Quit();

    return (EXIT_SUCCESS);
}
